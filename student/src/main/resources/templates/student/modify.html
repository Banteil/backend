<!DOCTYPE html>
<html
  lang="en"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{layouts/main_layout}"
>
  <th:block layout:fragment="title">
    <title>학생 정보 수정</title>
  </th:block>
  <div layout:fragment="content">
    <div class="container mt-5">
      <h1 class="mb-4">학생 정보 수정</h1>

      <form th:action="@{/student/modify}" th:object="${dto}" method="post">
        <input type="hidden" th:field="*{id}" />

        <div class="mb-3">
          <label for="name" class="form-label">이름</label>
          <input
            type="text"
            th:field="*{name}"
            class="form-control"
            placeholder="이름을 입력하세요"
            required
          />
          <div th:errors="*{name}" class="text-danger mt-2"></div>
        </div>

        <div class="mb-3">
          <label for="addr" class="form-label">주소</label>
          <input
            type="text"
            th:field="*{addr}"
            class="form-control"
            placeholder="주소를 입력하세요"
            required
            maxlength="255"
          />
          <div th:errors="*{addr}" class="text-danger mt-2"></div>
        </div>

        <div class="mb-3">
          <label class="form-label d-block">성별</label>

          <div class="form-check form-check-inline">
            <input
              class="form-check-input"
              type="radio"
              th:field="*{gender}"
              value="M"
              id="genderM"
              required
            />
            <label class="form-check-label" for="genderM">남성</label>
          </div>

          <div class="form-check form-check-inline">
            <input
              class="form-check-input"
              type="radio"
              th:field="*{gender}"
              value="F"
              id="genderF"
            />
            <label class="form-check-label" for="genderF">여성</label>
          </div>
          <div th:errors="*{gender}" class="text-danger mt-2"></div>
        </div>

        <div class="mb-4">
          <label for="grade" class="form-label">학년</label>
          <select th:field="*{grade}" class="form-select" required>
            <option value="">-- 학년 선택 --</option>

            <option
              th:each="g : ${grades}"
              th:value="${g}"
              th:text="${g}"
              th:selected="${g == dto.grade}"
            >
              FRESHMAN
            </option>
          </select>
          <div th:errors="*{grade}" class="text-danger mt-2"></div>
        </div>

        <div class="d-flex justify-content-end">
          <a
            th:href="@{/student/read(id=${dto.id})}"
            class="btn btn-secondary me-2"
            >취소</a
          >

          <button type="submit" class="btn btn-primary">수정 완료</button>
        </div>
      </form>
    </div>
  </div>
  <th:block layout:fragment="script">
    <script scr=""></script>
  </th:block>
</html>
